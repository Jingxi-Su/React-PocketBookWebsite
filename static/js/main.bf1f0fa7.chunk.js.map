{"version":3,"sources":["icons sync /.svg$","icons/left.svg","icons/money.svg","icons/right.svg","icons/statistic.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/money/TagsSection.tsx","components/Input.tsx","views/money/NoteSection.tsx","views/money/CategorySection.tsx","views/money/NumberPadSection/Wrapper.tsx","views/money/NumberPadSection.tsx","views/money/NumberPadSection/generateOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/TagEdit.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","toString","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","JSON","parse","length","stringify","findTag","filter","tag","updateTag","obj","findTagIndex","result","i","deleteTag","addTag","tagName","prompt","getName","t","section","TagsSection","selectedTagIds","value","key","onClick","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","placeholder","target","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormdata","Money","selected","setSelected","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","Space","TagList","ol","Tags","NoMatch","Topbar","header","InputWrapper","TagEdit","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf1f0fa7.chunk.js","sourcesContent":["var map = {\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./statistic.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M353.63 465.59c12.31 0 24.56 4.69 33.94 14.06l316.75 316.82c18.75 18.75 18.75 49.12 0 67.88s-49.12 18.75-67.88 0L319.69 547.54c-18.75-18.75-18.75-49.12 0-67.88 9.38-9.38 21.63-14.07 33.94-14.07z\\\" fill=\\\"#131414\\\" /><path d=\\\"M670.38 145.59c12.31 0 24.56 4.69 33.94 14.06 18.75 18.75 18.75 49.12 0 67.88L387.57 544.34c-18.75 18.75-49.12 18.75-67.88 0s-18.75-49.12 0-67.88l316.75-316.8c9.38-9.38 21.63-14.07 33.94-14.07z\\\" fill=\\\"#131414\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M928.358 558.131S458.854 434.176 349.03 929.485h364.288s215.04 7.219 215.04-142.848V558.13z\\\" fill=\\\"#FFD833\\\" /><path d=\\\"M928.358 420.198c-14.13 0-25.6-11.468-25.6-25.6V372.48c0-14.131 11.47-25.6 25.6-25.6s25.6 11.469 25.6 25.6v22.118c0 14.132-11.468 25.6-25.6 25.6z\\\" fill=\\\"#44454A\\\" /><path d=\\\"M758.938 944.845H275.302c-107.52 0-194.97-87.45-194.97-194.97V274.022c0-107.52 87.45-194.97 194.97-194.97H758.99c107.52 0 194.97 87.45 194.97 194.97 0 14.132-11.47 25.6-25.6 25.6s-25.6-11.468-25.6-25.6c0-79.308-64.513-143.77-143.77-143.77H275.302c-79.308 0-143.77 64.513-143.77 143.77v475.853c0 79.309 64.513 143.77 143.77 143.77H758.99c79.309 0 143.77-64.512 143.77-143.77V488.858c0-14.132 11.468-25.6 25.6-25.6s25.6 11.468 25.6 25.6v261.017c0 107.52-87.501 194.97-195.021 194.97z\\\" fill=\\\"#44454A\\\" /><path d=\\\"M688.282 610.97H544.256v-88.013h144.026c14.13 0 25.6-11.469 25.6-25.6s-11.47-25.6-25.6-25.6h-136.91l155.495-163.994c9.728-10.24 9.319-26.47-.973-36.198-10.24-9.728-26.47-9.319-36.198.973L517.683 432.896 374.63 273.05c-9.42-10.548-25.6-11.418-36.147-1.997-10.547 9.42-11.417 25.6-1.997 36.147l147.252 164.506H349.03c-14.13 0-25.6 11.468-25.6 25.6s11.47 25.6 25.6 25.6h144.026v88.012H349.03c-14.13 0-25.6 11.47-25.6 25.6s11.47 25.6 25.6 25.6h144.026v94.004c0 14.13 11.469 25.6 25.6 25.6s25.6-11.47 25.6-25.6v-94.004h144.026c14.13 0 25.6-11.468 25.6-25.6s-11.47-25.548-25.6-25.548z\\\" fill=\\\"#44454A\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M670.37 558.41c-12.31 0-24.56-4.69-33.94-14.06L319.68 227.53c-18.75-18.75-18.75-49.12 0-67.88s49.12-18.75 67.88 0l316.75 316.81c18.75 18.75 18.75 49.12 0 67.88-9.38 9.38-21.63 14.07-33.94 14.07z\\\" fill=\\\"#2c2c2c\\\" /><path d=\\\"M353.62 878.41c-12.31 0-24.56-4.69-33.94-14.06-18.75-18.75-18.75-49.12 0-67.88l316.75-316.81c18.75-18.75 49.12-18.75 67.88 0s18.75 49.12 0 67.88l-316.75 316.8c-9.38 9.38-21.63 14.07-33.94 14.07z\\\" fill=\\\"#2c2c2c\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistic\",\n  \"use\": \"statistic-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statistic\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M349.747 448.102h-84.275c-48.333 0-87.552-39.219-87.552-87.552v-84.275c0-48.333 39.22-87.552 87.552-87.552h84.275c48.333 0 87.552 39.22 87.552 87.552v84.275c0 48.384-39.168 87.552-87.552 87.552zm452.915 0h-84.326c-48.333 0-87.552-39.219-87.552-87.552v-84.275c0-48.333 39.22-87.552 87.552-87.552h84.275c48.333 0 87.552 39.22 87.552 87.552v84.275c.051 48.384-39.168 87.552-87.5 87.552zM349.747 892.16h-86.22c-48.333 0-87.553-39.22-87.553-87.552v-86.22c0-48.334 39.22-87.553 87.552-87.553h86.221c48.333 0 87.552 39.22 87.552 87.552v86.221c0 48.384-39.168 87.552-87.552 87.552z\\\" fill=\\\"#FFD833\\\" /><path d=\\\"M342.938 478.771h-125.44c-70.605 0-128-57.395-128-128v-125.44c0-70.605 57.395-128 128-128h125.44c52.736 0 99.43 31.642 118.937 80.64a25.651 25.651 0 01-14.285 33.28 25.651 25.651 0 01-33.28-14.285c-11.724-29.388-39.73-48.384-71.372-48.384h-125.44c-42.343 0-76.8 34.458-76.8 76.8v125.44c0 42.343 34.457 76.8 76.8 76.8h125.44c42.342 0 76.8-34.457 76.8-76.8v-84.48c0-14.13 11.468-25.6 25.6-25.6s25.6 11.47 25.6 25.6v84.48c0 70.554-57.396 127.95-128 127.95zm452.966 0h-125.44c-70.605 0-128-57.395-128-128v-125.44c0-70.605 57.395-128 128-128h125.44c70.605 0 128 57.395 128 128v125.44c0 70.605-57.395 128-128 128zM670.515 148.582c-42.342 0-76.8 34.458-76.8 76.8v125.44c0 42.343 34.458 76.8 76.8 76.8h125.44c42.343 0 76.8-34.457 76.8-76.8v-125.44c0-42.342-34.457-76.8-76.8-76.8h-125.44zM342.938 923.904h-125.44c-70.605 0-128-57.395-128-128v-125.44c0-70.605 57.395-128 128-128h125.44c70.604 0 128 57.395 128 128v125.44c0 70.605-57.396 128-128 128zm-125.44-330.189c-42.343 0-76.8 34.458-76.8 76.8v125.44c0 42.343 34.457 76.8 76.8 76.8h125.44c42.342 0 76.8-34.457 76.8-76.8v-125.44c0-42.342-34.458-76.8-76.8-76.8h-125.44zm578.406 330.189h-125.44c-70.605 0-128-57.395-128-128v-79.36c0-14.131 11.469-25.6 25.6-25.6s25.6 11.469 25.6 25.6v79.36c0 42.342 34.458 76.8 76.8 76.8h125.44c42.342 0 76.8-34.458 76.8-76.8v-125.44c0-42.342-34.458-76.8-76.8-76.8h-125.44c-32.205 0-61.235 20.326-72.243 50.586a25.615 25.615 0 01-32.82 15.36 25.615 25.615 0 01-15.36-32.82c18.33-50.432 66.663-84.326 120.372-84.326h125.44c70.605 0 128 57.395 128 128v125.44c.051 70.605-57.344 128-127.949 128z\\\" fill=\\\"#44454A\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M568.115 945.715c-47.872 0-92.877-18.637-126.72-52.48L139.622 591.462c-33.792-33.792-52.94-80.588-52.48-128.41l2.56-273.151A114.985 114.985 0 01201.114 75.878l281.292-9.164c49.357-1.639 97.639 17.51 132.557 52.377a25.615 25.615 0 010 36.199 25.615 25.615 0 01-36.198 0 128.379 128.379 0 00-94.669-37.428l-281.293 9.165c-34.355 1.127-61.542 28.928-61.9 63.335l-2.56 273.152c-.308 34.15 13.363 67.584 37.478 91.699l301.773 301.773c24.166 24.166 56.32 37.478 90.521 37.478s66.355-13.312 90.522-37.478L879.053 636.57c24.166-24.167 37.478-56.32 37.478-90.522s-13.312-66.355-37.478-90.522L691.712 268.34c-9.984-9.984-10.035-26.214 0-36.198a25.615 25.615 0 0136.198 0l187.341 187.187c33.843 33.843 52.48 78.848 52.48 126.72s-18.637 92.877-52.48 126.72L694.835 893.184c-33.894 33.894-78.899 52.531-126.72 52.531z\\\" fill=\\\"#44454A\\\" /><path d=\\\"M283.13599999999997 347.034a86.682 86.682 0 10173.363 0 86.682 86.682 0 10-173.363 0z\\\" fill=\\\"#FFD833\\\" /><path d=\\\"M369.818 459.315c-61.901 0-112.282-50.38-112.282-112.281s50.38-112.282 112.282-112.282 112.281 50.38 112.281 112.282-50.38 112.281-112.281 112.281zm0-173.363c-33.69 0-61.082 27.392-61.082 61.082s27.392 61.081 61.082 61.081 61.081-27.392 61.081-61.081-27.392-61.082-61.081-61.082zm44.85 391.782c-6.604 0-13.209-2.56-18.226-7.628a25.574 25.574 0 01.256-36.199l261.785-258.406a25.574 25.574 0 0136.199.256 25.574 25.574 0 01-.256 36.198L432.64 670.362c-4.966 4.915-11.469 7.372-17.971 7.372zm108.545 113.664a25.713 25.713 0 01-18.125-7.475 25.615 25.615 0 010-36.198l192.82-192.82a25.615 25.615 0 0136.198 0 25.615 25.615 0 010 36.199l-192.82 192.82c-4.966 4.966-11.52 7.474-18.073 7.474z\\\" fill=\\\"#44454A\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","\r\nimport React from 'react';\r\nimport cs from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n//require整个目录\r\n\r\ntype Props = {\r\n    name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n    const {name, children, className, ...rest} = props\r\n    return (\r\n        <svg className={cs('icon', className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#' + props.name}/>}\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Icon;","import styled from \"styled-components\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Icon from \"./Icon\";\r\n\r\nconst NavWrapper = styled.nav`\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\r\n  background: white;\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n    > li {\r\n      width: 33.3333333%;\r\n      text-align: center;\r\n\r\n      > a {\r\n        display: flex;\r\n        padding: 4px;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n\r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected{\r\n          color: goldenrod;\r\n          .icon{\r\n            fill: goldenrod;//icon自带颜色所以本句无用，启用方式见webpack.config.js中的svgo options注释\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                        <Icon name=\"tag\"/>\r\n                        标签页\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name=\"money\"/>\r\n                        记账页\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"statistic\"/>\r\n                        统计页\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>)\r\n}\r\n\r\nexport default Nav;","import Nav from \"./Nav\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\ntype Props = {\r\n    className?: string\r\n    scrollTop?: number//问号表示该参数可以不传\r\n}\r\n\r\nconst Layout: React.FunctionComponent<Props> = (props) => {\r\n    const mainRef = useRef<HTMLDivElement>(null)\r\n    useEffect(() => {\r\n        setTimeout(()=>{\r\n            if (!mainRef.current) {\r\n                return\r\n            }\r\n            mainRef.current.scrollTop = props.scrollTop!//感叹号表示该参数不可能为空\r\n        },0)//设置延迟是因为刚进入页面时滚动条还未加载出来，本代码可能无效。（0表示尽快）\r\n    }, [props.scrollTop])\r\n    return (\r\n        <Wrapper>\r\n            <Main ref={mainRef} className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav/>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nLayout.defaultProps = {//默认参数设置\r\n    scrollTop: 0\r\n}\r\n\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax') || '0')\r\nconst createId = () => {\r\n    id += 1;\r\n    window.localStorage.setItem('idMax', id.toString())\r\n    return id;\r\n}\r\n\r\nexport {createId}","import {useEffect, useRef} from \"react\";\r\n\r\nconst useUpdate = (fn: () => void, dependency: any[]) => {\r\n    const count = useRef(0)\r\n    useEffect(() => {\r\n        count.current += 1;\r\n    })\r\n    useEffect(() => {\r\n        if (count.current > 1) {\r\n            fn()\r\n        }\r\n    }, [fn, dependency]);//这里必须是不可变数据\r\n}\r\nexport {useUpdate}","import {useEffect, useState} from \"react\";\r\nimport {createId} from \"../lib/createId\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\nconst useTags = () => {//自定义hook必须use开头\r\n    const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n    useEffect(() => {\r\n        let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]')\r\n        if (localTags.length === 0) {\r\n            localTags = [\r\n                {id: createId(), name: '衣'},\r\n                {id: createId(), name: '食'},\r\n                {id: createId(), name: '住'},\r\n                {id: createId(), name: '行'}\r\n            ]\r\n        }\r\n        setTags(localTags)\r\n    }, [])\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('tags', JSON.stringify(tags))\r\n    }, tags)//组件挂载时执行\r\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n    const findTagIndex = (id: number) => {\r\n        let result = -1;\r\n        for (let i = 0; i < tags.length; i++) {\r\n            if (tags[i].id === id) {\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    const updateTag = (id: number, obj: { name: string }) => {\r\n        setTags(tags.map(tag => tag.id === id ? {id, name: obj.name} : tag));\r\n    }\r\n    const deleteTag = (id: number) => {\r\n        setTags(tags.filter(tag => tag.id !== id))\r\n    }\r\n    const addTag = () => {\r\n        const tagName = window.prompt('新标签名称为：');\r\n        if (tagName !== null && tagName !== '') {\r\n            setTags([...tags, {id: createId(), name: tagName}]);\r\n        }\r\n    };\r\n    const getName = (id: number) => {\r\n        const tag = tags.filter(t => t.id === id)[0]\r\n        return tag ? tag.name : ''\r\n    }\r\n    return {tags, setTags, findTag, updateTag, findTagIndex, deleteTag, addTag, getName}//后期可以研究为什么必须导出对象而不是数组\r\n}\r\n\r\nexport {useTags}","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport {useTags} from \"../../hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: white;\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  flex-grow: 1;\r\n\r\n  > ol {\r\n    margin: 0 -12px;\r\n\r\n    > li {\r\n      background: #D9D9D9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n\r\n      &.selected {\r\n        background: #ffd833;\r\n      }\r\n    }\r\n  }\r\n\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    color: #666;\r\n    padding: 2px 4px;\r\n    margin-top: 8px;\r\n  }\r\n;\r\n\r\n`\r\n\r\ntype Props = {\r\n    value: number[];\r\n    onChange: (selected: number[]) => void\r\n}//加入新的类型selected\r\n\r\nconst TagsSection: React.FunctionComponent<Props> = (props) => {\r\n    const {tags, addTag} = useTags();//析构\r\n    const selectedTagIds = props.value;\r\n    const onToggleTag = (tagId: number) => {\r\n        const index = selectedTagIds.indexOf(tagId);\r\n        if (index >= 0) {\r\n            props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n            //如果tag已被选中，就复制所有没有被选中的tag，作为新的selectedTags\r\n        } else {\r\n            props.onChange([...selectedTagIds, tagId])\r\n        }\r\n    }\r\n    const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\n    return (\r\n        <Wrapper>\r\n            <ol>\r\n                {tags.map(tag =>\r\n                    <li key={tag.id} onClick={\r\n                        () => {\r\n                            onToggleTag(tag.id);\r\n                        }\r\n                    } className={getClass(tag.id)}\r\n                    >{tag.name}</li>\r\n                )}\r\n            </ol>\r\n            <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\n\r\nexport {TagsSection}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`\r\ntype Props = {\r\n    label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input: React.FunctionComponent<Props> = (props) => {\r\n    const {label, children, ...rest} = props;\r\n    return (\r\n        <Label>\r\n            <span>{props.label}</span>\r\n            <input {...rest}/>\r\n        </Label>\r\n    )\r\n}\r\n\r\nexport {Input}","import styled from \"styled-components\";\r\nimport React, {ChangeEventHandler} from \"react\";\r\nimport {Input} from \"../../components/Input\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`\r\ntype Props = {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n}\r\n\r\nconst NoteSection: React.FunctionComponent<Props> = (props) => {\r\n    const note = props.value;\r\n    const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n        props.onChange(e.target.value);\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <Input label=\"备注：\"\r\n                   type=\"text\"\r\n                   value={note}\r\n                   placeholder=\"在这里添加备注\"\r\n                   onChange={onChange}/>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport {NoteSection}","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n\r\n  > ul {\r\n    display: flex;\r\n    background: #c4c4c4;\r\n\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n\r\n      &.selected {\r\n        background: #ffd833;\r\n      }\r\n    }\r\n  }\r\n\r\n`\r\n\r\ntype Props = {\r\n    value: '-' | '+';\r\n    onChange: (value: '-' | '+') => void;\r\n}\r\n\r\nconst CategorySection: React.FunctionComponent<Props> = (props) => {\r\n    const categoryMap = {'-': '支出', '+': '收入'}\r\n    type Keys = keyof typeof categoryMap\r\n    const [categoryList] = useState<Keys[]>(['-', '+'])\r\n    //相当于const [categoryList] = useState<('-'|'+')[]>(['-', '+'])\r\n    const category = props.value\r\n    return (\r\n        <Wrapper>\r\n            <ul>\r\n                {categoryList.map(c =>\r\n                    <li key={c}\r\n                        className={category === c ? 'selected' : ''}\r\n                        onClick={() => props.onChange(c)}>\r\n                        {categoryMap[c]}\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport {CategorySection}","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  > .output {\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\r\n    inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  > .pad {\r\n    > button {\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n\r\n      &:nth-child(1) {\r\n        background: #f2f2f2;\r\n      }\r\n\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background: #e0e0e0;\r\n      }\r\n\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background: #d3d3d3;\r\n      }\r\n\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background: #c1c1c1;\r\n      }\r\n\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background: #b8b8b8;\r\n      }\r\n\r\n      &:nth-child(12) {\r\n        background: #9a9a9a;\r\n      }\r\n\r\n      &:nth-child(14) {\r\n        background: #a9a9a9;\r\n      }\r\n    }\r\n  }\r\n\r\n`\r\n\r\nexport {Wrapper}","import React, {useState} from \"react\";\nimport {Wrapper} from \"./NumberPadSection/Wrapper\";\nimport {generateOutput} from \"./NumberPadSection/generateOutput\";\n\ntype Props = {\n    value: number;\n    onChange: (value: number) => void;\n    onOk?:()=>void;\n}\n\nconst NumberPadSection: React.FunctionComponent<Props> = (props) => {\n    const [output,_setOutput] = useState(props.value.toString())\n    const setOutput = (output: string) => {\n        //对setOutput进行封装\n        let newOutput:string;\n        if (output.length > 16) {\n            newOutput = output.slice(0, 16);\n            //最大长度16\n        } else if (output.length === 0) {\n            newOutput = '0'\n        } else {\n            newOutput = output;\n        }\n        _setOutput(newOutput)\n        props.onChange(parseFloat(newOutput))\n    }\n    const onClickButtonWrapper = (e: React.MouseEvent) => {\n        const text = (e.target as HTMLButtonElement).textContent\n        //强制指定类型\n        console.log(text)\n        if (text === null) {\n            return\n        }\n        if (text === 'OK') {\n            if(props.onOk){\n                props.onOk();\n            }\n            return;\n        }\n        if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n            setOutput(generateOutput(text, output));\n        }\n    }\n    return (\n        <Wrapper>\n            <div className=\"output\">\n                {output}\n            </div>\n            <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n                <button>1</button>\n                <button>2</button>\n                <button>3</button>\n                <button>删除</button>\n                <button>4</button>\n                <button>5</button>\n                <button>6</button>\n                <button>清空</button>\n                <button>7</button>\n                <button>8</button>\n                <button>9</button>\n                <button className=\"ok\">OK</button>\n                <button className=\"zero\">0</button>\n                <button>.</button>\n            </div>\n        </Wrapper>\n    )\n}\nexport {NumberPadSection}","//type InputString = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' | '.' | '删除' | '清空'\r\n//后期可以强制设定text类型，使代码更加严s谨\r\n//const generateOutput = (text: InputString, output = '0') => {\r\nconst generateOutput = (text: string, output = '0') => {\r\n    switch (text) {\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            if (output === '0') {\r\n                return text;\r\n            } else {\r\n                return output + text;\r\n            }\r\n        case '.':\r\n            if (output.indexOf('.') >= 0) {\r\n                return output;\r\n            }\r\n            return output + '.';\r\n        case'删除':\r\n            if (output.length === 1) {\r\n                return '';\r\n\r\n            } else {\r\n                return output.slice(0, -1)||''//等于output.slice(start:0,end:output-1)，或运算防止undefined\r\n            }\r\n        case'清空':\r\n            return '';\r\n        default:\r\n            return '';\r\n    }\r\n}\r\n\r\nexport {generateOutput}\r\n","import {useEffect, useState} from \"react\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\ntype newRecordItem = {\r\n    tagIds: number[]\r\n    note: string\r\n    category: '+' | '-'\r\n    amount: number\r\n}\r\n\r\nexport type RecordItem = newRecordItem & {\r\n    createdAt: string//格式为ISO 8601\r\n}\r\n\r\n\r\nconst useRecords = () => {\r\n    const [records, setRecords] = useState<RecordItem[]>([]);\r\n    useEffect(() => {\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n    }, [])\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('records', JSON.stringify(records))\r\n    }, records)\r\n    const addRecord = (newRecord: newRecordItem) => {\r\n        if (newRecord.amount <= 0) {\r\n            alert('请输入金额')\r\n            return false\r\n        }\r\n        if (newRecord.tagIds.length===0){\r\n            alert('请选择标签')\r\n            return false\r\n        }\r\n        const record = {...newRecord, createdAt: (new Date()).toISOString()}\r\n        setRecords([...records, record])\r\n        return true\r\n    }\r\n    return {records, addRecord,}\r\n}\r\n\r\nexport {useRecords}","import Layout from \"../components/Layout\";\nimport React, {useState} from \"react\";\nimport styled from \"styled-components\";\nimport {TagsSection} from \"./money/TagsSection\";\nimport {NoteSection} from \"./money/NoteSection\";\nimport {CategorySection} from \"./money/CategorySection\";\nimport {NumberPadSection} from \"./money/NumberPadSection\";\nimport {useRecords} from \"../hooks/useRecords\";\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`\ntype Category = '-' | '+'\n\nconst defaultFormdata={\n    tagIds: [] as number[],\n    note: '',\n    category: '-' as Category,\n    amount: 0\n}\n\nfunction Money() {\n    const [selected, setSelected] = useState(defaultFormdata)\n    const {addRecord} = useRecords()\n    const onChange = (obj: Partial<typeof selected>) => {//obj是selected的部分类型，用typeof获取值（selected）的类型\n        setSelected({...selected, ...obj})\n    }\n    const submit = () => {\n        if(addRecord(selected)){\n            addRecord(selected)\n            alert('保存成功')\n            setSelected(defaultFormdata)\n        }\n    }\n    return (\n        <MyLayout scrollTop={9999}>\n            <TagsSection value={selected.tagIds}\n                         onChange={(tagIds) => onChange({tagIds})}/>\n            <NoteSection value={selected.note}\n                         onChange={(note) => onChange({note})}/>\n            <CategorySection value={selected.category}\n                             onChange={(category) => onChange({category})}/>\n            <NumberPadSection value={selected.amount}\n                              onChange={(amount) => onChange({amount})}\n                              onOk={submit}/>\n        </MyLayout>\n    )\n}\n\nexport default Money;","import Layout from \"../components/Layout\";\r\nimport React, {useState, ReactNode} from \"react\";\r\nimport {CategorySection} from \"./money/CategorySection\";\r\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport day from \"dayjs\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`\r\nconst Header=styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\n\r\nfunction Statistics() {\r\n    const [category, setCategory] = useState<'-' | '+'>('-')\r\n    const {records} = useRecords()\r\n    const {getName} = useTags()\r\n    const hash: { [K: string]: RecordItem[] } = {}\r\n    const selectedRecords = records.filter(r => r.category === category)\r\n\r\n    selectedRecords.forEach(r => {\r\n        const key = day(r.createdAt).format('YYYY年MM月DD日')\r\n        if (!(key in hash)) {\r\n            hash[key] = []\r\n        }\r\n        hash[key].push(r)\r\n    })\r\n\r\n    const array = Object.entries(hash).sort((a, b) => {\r\n        if (a[0] === b[0]) {\r\n            return 0\r\n        }\r\n        if (a[0] > b[0]) {\r\n            return -1\r\n        }\r\n        if (a[0] < b[0]) {\r\n            return 1\r\n        }\r\n        return 0\r\n    })\r\n\r\n    return (\r\n        <Layout>\r\n            <CategorySection value={category}\r\n                             onChange={(value) => setCategory(value)}/>\r\n\r\n            {array.map(([date, records]) =>\r\n                <div>\r\n                    <Header>\r\n                        {date}\r\n                    </Header>\r\n                    {records.map(r => {\r\n                        return <Item key={r.createdAt}>\r\n                            <div className=\"tags oneLine\">\r\n                                {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                                    //多标签时用逗号分隔\r\n                                    .reduce((result,span,index,array)=>\r\n                                        result.concat(index<array.length-1?[span,'，']:[span]),[] as ReactNode[])\r\n\r\n                                }\r\n                            </div>\r\n                            {r.note && <div className=\"note\">{r.note}</div>}\r\n                            <div className=\"amount\">￥{r.amount}</div>\r\n                        </Item>\r\n                    })}\r\n                </div>)}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Statistics;","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #ffd833;\r\n  border-radius: 4px;\r\n`\r\n\r\nexport {Button}","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`\r\n\r\nexport {Center}","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`\r\n\r\nexport {Space}","import Layout from \"../components/Layout\";\r\nimport React from \"react\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport styled from \"styled-components\";\r\nimport Icon from \"components/Icon\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { Button } from \"components/Button\";\r\nimport {Center} from \"../components/Center\";\r\nimport { Space } from \"components/Space\";\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n\r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 12px 16px 12px 0;\r\n    }\r\n  }\r\n`\r\n\r\nfunction Tags() {\r\n    const {tags,addTag} = useTags();//析构\r\n    return (\r\n        <Layout>\r\n            <TagList>\r\n                {tags.map(tag =>\r\n                    <li key={tag.id}>\r\n                        <Link to={'/tags/' + tag.id}>\r\n                            <span className=\"oneLine\">{tag.name}</span>\r\n                            <Icon name=\"right\"/>\r\n                        </Link>\r\n                    </li>)}\r\n            </TagList>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={addTag}>新增标签</Button>\r\n                <Space/>\r\n            </Center>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Tags;","import React from \"react\";\r\n\r\nfunction NoMatch() {\r\n    return <div>页面不存在</div>\r\n}\r\n\r\nexport default NoMatch;","import React from \"react\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport {useParams, useHistory} from \"react-router-dom\";\r\nimport Layout from \"../components/Layout\";\r\nimport Icon from \"../components/Icon\";\r\nimport {Button} from \"../components/Button\";\r\nimport styled from \"styled-components\";\r\nimport {Input} from \"../components/Input\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Space} from \"../components/Space\";\r\n\r\ntype Params = {\r\n    id: string\r\n}\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`\r\n\r\nconst TagEdit: React.FunctionComponent = () => {\r\n    const {findTag, updateTag, deleteTag} = useTags()\r\n    let {id: idString} = useParams<Params>();//把id重命名为idString\r\n    const tag = findTag(parseInt(idString))\r\n    const tagContent = (tag: { id: number; name: string }) => (\r\n        <div>\r\n            <InputWrapper>\r\n                <Input label=\"标签名\"\r\n                       type=\"text\"\r\n                       placeholder=\"请输入标签名\"\r\n                       value={tag.name}\r\n                       onChange={(e) => {\r\n                           updateTag(tag.id, {name: e.target.value})\r\n                       }}/>\r\n            </InputWrapper>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n            </Center>\r\n        </div>\r\n    )\r\n    const history = useHistory()\r\n    const onClickBack = () => {\r\n        history.goBack()\r\n    }\r\n    return (\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name=\"left\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon/>\r\n            </Topbar>\r\n            {tag ? tagContent(tag) : <Center><Space/><Space/><Space/>标签不存在</Center>}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport {TagEdit}","import React from 'react';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport Tags from \"./views/Tags\";\nimport NoMatch from \"./views/NoMatch\";\nimport styled from \"styled-components\";\nimport { TagEdit } from 'views/TagEdit';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`\n\nfunction App() {\n    return (\n        <AppWrapper>\n            <Router>\n                <Switch>\n                    <Route exact path=\"/tags/:id\">\n                        <TagEdit/>\n                    </Route>\n                    <Route exact path=\"/tags\">\n                        <Tags/>\n                    </Route>\n                    <Route exact path=\"/money\">\n                        <Money/>\n                    </Route>\n                    <Route exact path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    <Redirect exact from={\"/\"} to={\"/money\"}/>\n                    <Route path=\"*\">\n                        <NoMatch/>\n                    </Route>\n                </Switch>\n            </Router>\n        </AppWrapper>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}